<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <style>
        /* Стиль для сообщения о неподдерживаемом устройстве */
        #mobile-block {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #111;
            color: #ffcc66;
            z-index: 9999;
            text-align: center;
            padding: 50px 20px;
            box-sizing: border-box;
            font-family: Arial;
        }
        
        #mobile-block h2 {
            font-size: 2em;
            margin-bottom: 20px;
            text-shadow: 0 0 14px rgba(255, 204, 102,.25);
        }
        
        #mobile-block p {
            font-size: 1.2em;
            color: #e0e0e0;
            line-height: 1.5;
            max-width: 600px;
            margin: 0 auto 30px;
        }
        
        body {
            font-family: Arial;
            background: url("background2.png") no-repeat center center fixed;
            background-size: cover;
            color: #e0e0e0;
            margin: 0;
            padding: 0;
        }
        
        header {
            position: sticky;
            top: 0;
            z-index: 1000;
            width: 100%;
            background: #111;
            border-bottom: 2px solid #ffcc66;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
            text-shadow: 0 0 14px rgba(255, 204, 102,.25);
        }

        .header-inner {
            max-width: 250px;   /* как у .container */
            margin: 0 auto;
            padding: 15px 20px;
            justify-content: space-between;
            gap: 16px;
        }

        .logo {
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo .title {
            font-size: 1.7em;
            text-shadow: 0 0 14px rgba(255, 204, 102,.25);
            font-weight: 1000;
            color: #ffcc66;
            letter-spacing: 0.3px;
        }

        .logo .tag {
            background: #222;
            border: 1px solid #555;
            color: #cfcfcf;
            font-size: 0.82em;
            padding: 3px 15px;
            white-space: nowrap;
            border-radius: 2000px; /* «пилюля» */
        }

        .site-nav a {
            margin-left: 14px;
            text-decoration: none;
            font-weight: 700;
            color: #e0e0e0;
            padding: 8px 14px;
            border-radius: 6px;
            transition: 0.25s ease;
        }

        .site-nav a:hover {
            background: #ffcc66;
            color: #000;
            box-shadow: 0 0 10px rgba(255,204,102,0.7);
        }

        nav a {
            margin-left: 20px;
            text-decoration: none;
            font-weight: bold;
            color: #e0e0e0;
            padding: 8px 15px;
            border-radius: 6px;
            transition: 0.3s;
        }
        
        nav a:hover {
            background: #ffcc66;
            color: #000;
            box-shadow: 0 0 10px rgba(255,204,102,0.7);
        }
        
        .container {
            max-width: 1000px;
            margin: 35px auto;
            padding: 0 20px;
        }
        
        section {
            background: #303232;
            padding: 25px;
            margin-bottom: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.6);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        section:hover {
            transform: translateY(-3px);
            box-shadow: 0 0 20px rgba(0,255,100,0.3);
        }
        
        h2 {
            color: #ffcc66;
            border-bottom: 1.1px solid #333;
            padding-bottom: 7px;
            font-size: 2em;
            text-shadow: 0 0 14px rgba(255, 204, 102,.25);
            margin-bottom: 10px;
        }
        
        .download-button {
            display: inline-block;
            padding: 12px 25px;
            background: linear-gradient(90deg, #ffd66b, #ffd66b);
            color: #000;
            text-decoration: none;
            text-align: center;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1.1em;
            box-shadow: 0 0 14px rgba(255, 204, 102,.25);
            transition: all 0.3s ease;
        }
        
        .download-button:hover {
            background: linear-gradient(90deg, #ffd66b, #ffd66b);
            text-align: center;
            box-shadow: 0 0 25px rgba(0,255,150,0.7);
            transform: scale(1.05);
        }
        
        .warning {
            color: #ff5555;
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 10px;
            text-align: center;
            text-shadow: 0 0 2px #ff0000;
        }
        
        i {
            font-style: italic;
            color: #b0b0b0;
        }
        
        footer {
            background: #111;
            padding: 15px;
            text-align: center;
            border-top: 2px solid #ffcc66;
            color: #888;
            position: fixed;
            bottom: 0;
            width: 100%;
            box-shadow: 0 -4px 10px rgba(0,0,0,0.5);
        }
        
        #last-updated {
            margin-top: 20px;
            font-style: italic;
            color: #aaa;
            font-size: 0.97em;
            text-align: center;
        }
        
        ol li {
            font-size: 1.2em;
            margin-bottom: 30px;
        }
        
        /* Стиль для заблокированной кнопки */
        .download-button.disabled {
            background: #777 !important;
            color: #333 !important;
            box-shadow: none !important;
            cursor: not-allowed !important;
            transform: none !important;
        }
    </style>
</head>
<body>
    <!-- Сообщение для мобильных устройств -->
    <div id="mobile-block">
        <h2>⚠<br>
        Сайт недоступен на мобильных устройствах</h2>
        <p>Данный сайт предназначен только для использования на компьютерах.</p>
        <p>Пожалуйста, откройте эту страницу с ПК или ноутбука.</p>
        <p style="margin-top: 30px; color: #888; font-size: 0.9em;">
            Для установки локализации STALCRAFT: X требуется доступ к файловой системе игры,<br>
            что невозможно сделать с мобильного устройства.
        </p>
    </div>

    <!-- Основной контент (будет скрыт на мобильных) -->
    <div id="main-content">
        <header>
            <div class="header-inner">
                <div class="logo">
                    <span class="title">StalLoc</span>
                    <span class="tag">community project</span>
                </div>
            </div>
        </header>

        <div class="container">      
            <section id="about">
                <h2>О сайте</h2>
                <p>Добро пожаловать на сайт фанатской локализации STALCRAFT: X.<br><br> 
                   После событий «Дня X» (10.07.2024) в игре были изменены названия мутантов, локаций, артефактов и других игровых элементов. Этот проект создан для того, чтобы вернуть оригинальные названия и привычную терминологию. Приятного пользования!</p>
            </section>

            <section id="download">
                <div style="text-align: center; margin-bottom: 1px;">
                    <h2>Скачать локализацию</h2>
                </div>
                <div style="text-align: center; margin-top: 1px;">
                    <p>Скачайте последнюю версию локализации по ссылке ниже. Убедитесь, что у вас установлена последняя версия игры.</p> 
                </div>

                <!-- Предупреждение (по умолчанию скрыто) -->
                <p id="update-warning" class="warning" style="display:none;">
                    ⚠ Локализация ещё не была обновлена для нового обновления игры и временно недоступна для скачивания!
                </p>  

                <div style="text-align: center;">
                    <a id="download-link" href="StalLoc.zip" download class="download-button">Скачать локализацию</a>
                </div>

                <p id="last-updated">Последнее обновление: 24 января 2026 г., 23:15 МСК</p>
            </section>

            <section id="install">
                <h2>Инструкция по установке</h2>
                <ol>
                    <li>Скачайте архив с локализацией.</li>
                    <li>Перейдите в папку с игрой: <code style="font-size: 18px;">[Путь к лаунчеру]\EXBO\runtime\stalcraft\modassets\assets\</code>.</li>
                    <li>Скопируйте файлы:
                        <p>• Из папки <strong>STALKER</strong> архива → файл <em>ru.lang</em> в папку игры <code style="font-size: 18px;">...\stalker\lang\</code> (подтвердите замену).</p>
                        <p>• Из папки <strong>GLOOMYCORE</strong> архива → файл <em>ru.lang</em> в папку игры <code style="font-size: 18px;">...\gloomycore\lang\</code> (подтвердите замену).</p>
                    </li>
                    <li>Запустите игру, выбрав русский язык в настройках.</li>
                </ol>
            </section>
        </div>
        
        <footer>
            <p>&copy; 2025 Фанатская локализация STALCRAFT: X. Все права на игру принадлежат EXBO и иным правообладателям.</p> 
        </footer>
    </div>

    <script>
        // Проверка на мобильные устройства и планшеты
        function isMobileDevice() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
                   (navigator.maxTouchPoints && navigator.maxTouchPoints > 2) ||
                   (window.innerWidth <= 768); // Также блокируем маленькие экраны
        }

        // ВКЛ/ВЫКЛ доступности локализации
        const localizationUpdated = true; // ← false, если локализация устарела

        // Проверяем устройство при загрузке страницы
        document.addEventListener('DOMContentLoaded', function() {
            if (isMobileDevice()) {
                // Показываем сообщение о блокировке
                document.getElementById('mobile-block').style.display = 'block';
                // Скрываем основной контент
                document.getElementById('main-content').style.display = 'none';
            } else {
                // Для десктопов - обычная логика
                const downloadLink = document.getElementById("download-link");
                const updateWarning = document.getElementById("update-warning");

                if (!localizationUpdated) {
                    // Блокировка кнопки
                    downloadLink.classList.add("disabled");
                    downloadLink.removeAttribute("href");
                    downloadLink.removeAttribute("download");
                    downloadLink.innerText = "Недоступно";

                    // Вывод предупреждения
                    updateWarning.style.display = "block";
                }
            }
        });

        // Также проверяем при изменении размера окна
        window.addEventListener('resize', function() {
            if (isMobileDevice() && document.getElementById('mobile-block').style.display === 'none') {
                document.getElementById('mobile-block').style.display = 'block';
                document.getElementById('main-content').style.display = 'none';
            }
        });
    </script>
</body>
</html>
